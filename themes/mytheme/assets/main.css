@import "tailwindcss";
@config './tailwind.config.js';

/* =======================
   BASE LAYER
======================= */
@layer base {
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-gray-700, currentColor);
  }

  @media (prefers-color-scheme: dark) {
    *,
    ::after,
    ::before,
    ::backdrop,
    ::file-selector-button {
      border-color: var(--color-gray-200, currentColor);
    }
  }

  body {
    @apply font-sans text-base leading-relaxed bg-stone-50 text-gray-900 dark:bg-darkest dark:text-stone-50;
  }
}

/* =======================
   UTILITIES LAYER
======================= */
@layer utilities {
  h1 { @apply text-4xl font-bold leading-tight mb-5 mt-1; }
  h2 { @apply text-3xl font-semibold leading-snug mb-4 mt-1; }
  h3 { @apply text-2xl font-semibold leading-snug mb-3 mt-1; }
  h4 { @apply text-xl font-semibold leading-snug mb-2 mt-1; }
  h5 { @apply text-lg font-semibold leading-snug mb-2 mt-1; }

  p { @apply mt-2 mb-2 leading-relaxed; }

  a {
    @apply text-blue-500 hover:text-blue-700 hover:underline dark:text-yellow-300 dark:hover:text-yellow-500 transition-colors duration-200;
  }

  summary { @apply block text-sm; }

  blockquote { @apply bg-gray-100 dark:bg-dark rounded-sm p-3; }
}

/* =======================
   COMPONENTS LAYER
======================= */
@layer components {
  /* Pagination */
  ul.pagination {
    @apply flex flex-row justify-center gap-1;
    li {
      @apply border border-gray-500 dark:border-yellow-300 flex justify-center items-center rounded-sm transition-all duration-150;
    }
    .page-link {
      @apply px-2 sm:px-4 py-1 hover:text-gray-200 dark:hover:text-gray-800 hover:bg-blue-500 dark:hover:bg-yellow-300 rounded-sm transition-colors duration-150;
    }
    .active {
      @apply bg-blue-500 pointer-events-none dark:bg-yellow-300;
      .page-link { @apply text-gray-200 dark:text-gray-800; }
    }
  }

  /* Categories & Tags */
  .categories {
    @apply px-2 py-1 mr-2 mb-2 text-sm rounded bg-green-100 text-green-800 border border-green-600 hover:bg-green-200 hover:shadow-sm transition-all duration-150 dark:border-green-100;
  }
  .tags {
    @apply px-2 py-1 mr-2 mb-2 text-sm rounded bg-gray-200 text-gray-800 border border-gray-600 hover:bg-gray-300 hover:shadow-sm transition-all duration-150 dark:border-gray-100;
  }

  /* Navigation */
  .nav { @apply text-lg text-blue-500 dark:text-gray-300 font-semibold; }
  .nav-menu-item { @apply p-2 rounded-sm hover:no-underline hover:bg-gray-200 dark:hover:bg-gray-800 transition-colors duration-150; }

  /* Accordion */
  .accordion { @apply text-blue-600 dark:text-yellow-500 my-0; }
  .accordion > p { @apply my-0 p-2 rounded-sm hover:bg-gray-300 dark:hover:bg-darker cursor-pointer transition-colors duration-150; }

  /* Prose lists */
  .prose ul,
  .prose ol {
    @apply marker:text-gray-700 dark:marker:text-gray-200;
  }
}
