<div class="relative">
  <input type="text" id="searchInput" placeholder="üîç Nh·∫≠p t·ª´ kh√≥a..." class="w-full p-3 rounded-lg border dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-800 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500">
  <ul id="searchResults" class="mt-4 space-y-2"></ul>
</div>

<script>
fetch('{{ "index.json" | relURL }}')
  .then(res => res.json())
  .then(data => {
    const input = document.getElementById('searchInput');
    const results = document.getElementById('searchResults');

    input.addEventListener('input', () => {
      const keyword = input.value.toLowerCase();
      results.innerHTML = '';
      if (keyword.length > 1) {
        const matches = data.filter(post =>
          post.title.toLowerCase().includes(keyword) ||
          post.summary.toLowerCase().includes(keyword) ||
          post.content.toLowerCase().includes(keyword)
        );
        if (matches.length === 0) {
          results.innerHTML = '<li class="text-gray-500 dark:text-gray-400">Kh√¥ng t√¨m th·∫•y k·∫øt qu·∫£.</li>';
        } else {
          matches.forEach(post => {
            const li = document.createElement('li');
            li.innerHTML = `<a href="${post.url}" class="text-blue-600 dark:text-blue-400 hover:underline font-medium">${post.title}</a>`;
            results.appendChild(li);
          });
        }
      }
    });
  });
</script>
